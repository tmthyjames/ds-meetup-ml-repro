schema: '2.0'
stages:
  lyrics-etl:
    cmd: reproml etl lyrics
    outs:
    - path: data/processed/lyrics
      md5: bdef894226974698cb0745fff57fe54b.dir
      size: 18091467
      nfiles: 37
    - path: data/raw/lyrics/lyrics_whole.csv.zip
      md5: a9e618c5b49032cc096d163b68966ecb
      size: 10738951
  get-lyrics:
    cmd: reproml etl get-lyrics
    deps:
    - path: reproml/etl/lyrics/_lyrics.py
      md5: 7ab85d700a6eb85bca6da504353a0e43
      size: 377
    outs:
    - path: data/raw/lyrics/
      md5: d07c4d5e01e14de395b2185fdb828e63.dir
      size: 89409295
      nfiles: 2
  prepro-lyrics:
    cmd: reproml prepro process
    deps:
    - path: data/raw/lyrics/
      md5: d07c4d5e01e14de395b2185fdb828e63.dir
      size: 89409295
      nfiles: 2
    - path: reproml/preprocess/_preprocess.py
      md5: 32a74b137d42a7b76d6982ac09187289
      size: 1799
    outs:
    - path: data/processed/lyrics
      md5: 1812c9ff984fcef3bffdff76634fed5e.dir
      size: 69960076
      nfiles: 83
  split-lyrics:
    cmd: reproml prepro split
    deps:
    - path: data/processed/lyrics/
      md5: 1812c9ff984fcef3bffdff76634fed5e.dir
      size: 69960076
      nfiles: 83
    - path: reproml/preprocess/_preprocess.py
      md5: 32a74b137d42a7b76d6982ac09187289
      size: 1799
    outs:
    - path: data/modeling/test_set.parquet
      md5: 1cac26bac3ebc47511ff17310802a514
      size: 14596176
    - path: data/modeling/train_set.parquet
      md5: 141fa3268da342edb5e998d2c8d35358
      size: 55010175
  train-model:
    cmd: reproml ml train
    deps:
    - path: data/modeling/train_set.parquet
      md5: 141fa3268da342edb5e998d2c8d35358
      size: 55010175
    - path: reproml/ml/_ml.py
      md5: 45f2434543a0d08dab68538eedb9b4d7
      size: 722
    outs:
    - path: model_artifacts/model.pkl
      md5: d9909db97180f50e798d301baa207811
      size: 15716450
  validate-model:
    cmd: reproml validate metrics
    deps:
    - path: data/modeling/test_set.parquet
      md5: 1cac26bac3ebc47511ff17310802a514
      size: 14596176
    - path: model_artifacts/model.pkl
      md5: d9909db97180f50e798d301baa207811
      size: 15716450
    outs:
    - path: data/metrics/performance.json
      md5: 48c649c266182f83c0307f0080f57daa
      size: 129
